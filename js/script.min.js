"use strict";const getScrollWidth=()=>{let e=document.createElement("div");e.style.overflowY="scroll",e.style.width="50px",e.style.height="50px",document.body.append(e);let t=e.offsetWidth-e.clientWidth;return e.remove(),t},isEscEvent=e=>"Escape"===e.key,onEscKeydownCloseModal=e=>{isEscEvent(e)&&(e.preventDefault(),closeModal())},body=document.querySelector(".page"),buttonsOpenModal=document.querySelectorAll(".modal-btn"),buyModal=document.querySelector(".modal-buy"),modalForm=document.querySelector(".form-modal"),inputTelModalForm=modalForm.querySelector(".form-modal__input--tel"),inputMailFormModal=modalForm.querySelector(".form-modal__input--mail"),errorInputTel=modalForm.querySelector(".main-input__error--tel"),errorInputMail=modalForm.querySelector(".main-input__error--mail"),successModalMessage=document.querySelector(".success-message"),closeSuccesMesBtn=document.querySelector(".success-message__close"),inputTelIvalid=()=>{inputTelModalForm.setCustomValidity("Данные не верны"),inputTelModalForm.style.border="1px solid #fe7865",errorInputTel.style.opacity="1"},inputTelvalid=()=>{inputTelModalForm.style.border="",errorInputTel.style.opacity="",inputTelModalForm.setCustomValidity("")},inputMailInvalid=()=>{inputMailFormModal.style.border="1px solid #fe7865",errorInputMail.style.opacity="1"},inputMailValid=()=>{inputMailFormModal.style.border="",errorInputMail.style.opacity=""},onInputTel=()=>{inputTelModalForm.addEventListener("input",(()=>{inputTelModalForm.value.length<10?(inputTelModalForm.setCustomValidity("Данные не верны"),inputTelModalForm.style.border="1px solid #fe7865",errorInputTel.style.opacity="1"):inputTelvalid()}))},onIputMail=()=>{inputMailFormModal.addEventListener("input",(()=>{!1===inputMailFormModal.validity.valid?(inputMailFormModal.style.border="1px solid #fe7865",errorInputMail.style.opacity="1"):inputMailValid()}))},lockBody=e=>{body.classList.add("lock"),body.style.paddingRight=`${e}px`},unlockBody=()=>{body.classList.remove("lock"),body.style.paddingRight=""},onClickAwayCloseModal=e=>{e.target.closest(".modal-buy__content")||closeModal()},clickAwayCloseSuccessMessage=e=>{e.target.closest(".success-message--visible")||(hideSuccessModalMessage(),document.removeEventListener("click",clickAwayCloseSuccessMessage),closeSuccesMesBtn.removeEventListener("click",hideSuccessModalMessage))},closeModal=()=>{buyModal.setAttribute("aria-hidden","true"),body.classList.remove("lock"),body.style.paddingRight="",modalForm.reset(),document.removeEventListener("keydown",onEscKeydownCloseModal),document.removeEventListener("click",onClickAwayCloseModal),inputMailValid(),inputTelvalid()},onBtnCloseModal=e=>{modalForm&&e.addEventListener("click",(e=>{e.preventDefault(),closeModal()}),{once:!0})},addListenerOnOpenModal=()=>{setTimeout((()=>{document.addEventListener("click",onClickAwayCloseModal),document.addEventListener("keydown",onEscKeydownCloseModal)}),200)},openModal=()=>{buyModal.setAttribute("aria-hidden","false"),inputTelModalForm.focus();let e=getScrollWidth();var t;t=e,body.classList.add("lock"),body.style.paddingRight=`${t}px`;const o=modalForm.querySelector(".modal-buy__close");onBtnCloseModal(o),setTimeout((()=>{document.addEventListener("click",onClickAwayCloseModal),document.addEventListener("keydown",onEscKeydownCloseModal)}),200),inputTelModalForm.addEventListener("input",(()=>{inputTelModalForm.value.length<10?(inputTelModalForm.setCustomValidity("Данные не верны"),inputTelModalForm.style.border="1px solid #fe7865",errorInputTel.style.opacity="1"):inputTelvalid()})),inputMailFormModal.addEventListener("input",(()=>{!1===inputMailFormModal.validity.valid?(inputMailFormModal.style.border="1px solid #fe7865",errorInputMail.style.opacity="1"):inputMailValid()}))},hideSuccessModalMessage=()=>{successModalMessage.classList.remove("success-message--visible")},showSuccessPopupMessage=()=>{successModalMessage.classList.add("success-message--visible"),closeSuccesMesBtn.addEventListener("click",hideSuccessModalMessage),document.addEventListener("click",clickAwayCloseSuccessMessage)},onSuccessSubmit=()=>{closeModal(),showSuccessPopupMessage()},onSubmitSendData=()=>{modalForm.addEventListener("submit",(e=>{e.preventDefault(),localStorage.setItem("tel",inputTelModalForm.value),localStorage.setItem("mail",inputMailFormModal.value),closeModal(),showSuccessPopupMessage()}))},onBtnShowModal=()=>{buttonsOpenModal.forEach((e=>{e.addEventListener("click",(()=>{openModal(),modalForm.addEventListener("submit",(e=>{e.preventDefault(),localStorage.setItem("tel",inputTelModalForm.value),localStorage.setItem("mail",inputMailFormModal.value),closeModal(),showSuccessPopupMessage()}))}))}))};buttonsOpenModal.forEach((e=>{e.addEventListener("click",(()=>{openModal(),modalForm.addEventListener("submit",(e=>{e.preventDefault(),localStorage.setItem("tel",inputTelModalForm.value),localStorage.setItem("mail",inputMailFormModal.value),closeModal(),showSuccessPopupMessage()}))}))}));const headerMenu=document.querySelector(".header-menu"),menuButton=document.querySelector(".menu-button"),showMenu=()=>{menuButton.setAttribute("aria-expanded","true"),menuButton.setAttribute("aria-label","закрыть меню"),headerMenu.classList.remove("header-menu--closed"),headerMenu.classList.add("header-menu--opened")},closeMenu=()=>{menuButton.setAttribute("aria-expanded","false"),menuButton.setAttribute("aria-label","открыть меню"),headerMenu.classList.add("header-menu--closed"),headerMenu.classList.remove("header-menu--opened")},aboutTapBar=document.querySelector(".about-tapbar"),tapBarBts=aboutTapBar.querySelectorAll(".about-tapbar__item"),slides=document.querySelectorAll(".country-list-item");let slideActive=document.querySelector(".country-list-item--active");const changeActiveSlide=e=>{slides.forEach((t=>{t.getAttribute("data-name")===e?t.classList.add("country-list-item--active"):t.classList.remove("country-list-item--active")}))},changeActiveBtn=(e,t)=>{slideActive=document.querySelector(".country-list-item--active");let o=slideActive.getAttribute("data-name");t.forEach((t=>{o!==e&&t.classList.remove("about-tapbar__item--active")}))},onTapBarClick=e=>{slideActive=document.querySelector(".country-list-item--active");let t=e.target.getAttribute("data-tap");var o;changeActiveBtn(t,tapBarBts),e.target.classList.contains("about-tapbar__item--active")||(o=t,slides.forEach((e=>{e.getAttribute("data-name")===o?e.classList.add("country-list-item--active"):e.classList.remove("country-list-item--active")})),e.target.classList.add("about-tapbar__item--active"))},contactForm=document.querySelector(".contact__form"),contactTelInput=contactForm.querySelector(".contact__input--tel"),contactMailInput=contactForm.querySelector(".contact__input--mail"),errorInputTelContact=contactForm.querySelector(".main-input__error--tel"),errorInputMailContact=contactForm.querySelector(".main-input__error--mail"),inputTelContactIvalid=()=>{contactTelInput.setCustomValidity("Данные не верны"),contactTelInput.style.border="1px solid #fe7865",errorInputTelContact.style.opacity="1"},inputTelContactvalid=()=>{contactTelInput.style.border="",contactTelInput.setCustomValidity(""),errorInputTelContact.style.opacity=""},inputMailContactInvalid=()=>{contactMailInput.style.border="1px solid #fe7865",errorInputMailContact.style.opacity="1"},inputMailContactValid=()=>{contactMailInput.style.border="",errorInputMailContact.style.opacity=""},onInputTelContact=()=>{contactTelInput.addEventListener("input",(()=>{contactTelInput.value.length<10?(contactTelInput.setCustomValidity("Данные не верны"),contactTelInput.style.border="1px solid #fe7865",errorInputTelContact.style.opacity="1"):(contactTelInput.style.border="",contactTelInput.setCustomValidity(""),errorInputTelContact.style.opacity="")}))},onIputMailContact=()=>{contactMailInput.addEventListener("input",(()=>{!1===contactMailInput.validity.valid?(contactMailInput.style.border="1px solid #fe7865",errorInputMailContact.style.opacity="1"):(contactMailInput.style.border="",errorInputMailContact.style.opacity="")}))},onSubmitContactForm=()=>{contactForm.addEventListener("submit",(e=>{e.preventDefault(),localStorage.setItem("contactTel",contactTelInput.value),localStorage.setItem("contactMail",contactMailInput.value),contactForm.reset(),showSuccessPopupMessage()}))};document.addEventListener("DOMContentLoaded",(()=>{headerMenu.classList.remove("header-menu--no-js"),headerMenu.classList.add("header-menu--closed"),menuButton.addEventListener("click",(()=>{headerMenu.classList.contains("header-menu--closed")?(menuButton.setAttribute("aria-expanded","true"),menuButton.setAttribute("aria-label","закрыть меню"),headerMenu.classList.remove("header-menu--closed"),headerMenu.classList.add("header-menu--opened")):(menuButton.setAttribute("aria-expanded","false"),menuButton.setAttribute("aria-label","открыть меню"),headerMenu.classList.add("header-menu--closed"),headerMenu.classList.remove("header-menu--opened"))})),aboutTapBar&&tapBarBts.forEach((e=>{e.addEventListener("click",onTapBarClick)})),contactTelInput.addEventListener("input",(()=>{contactTelInput.value.length<10?(contactTelInput.setCustomValidity("Данные не верны"),contactTelInput.style.border="1px solid #fe7865",errorInputTelContact.style.opacity="1"):(contactTelInput.style.border="",contactTelInput.setCustomValidity(""),errorInputTelContact.style.opacity="")})),contactMailInput.addEventListener("input",(()=>{!1===contactMailInput.validity.valid?(contactMailInput.style.border="1px solid #fe7865",errorInputMailContact.style.opacity="1"):(contactMailInput.style.border="",errorInputMailContact.style.opacity="")})),contactForm.addEventListener("submit",(e=>{e.preventDefault(),localStorage.setItem("contactTel",contactTelInput.value),localStorage.setItem("contactMail",contactMailInput.value),contactForm.reset(),showSuccessPopupMessage()}))}));